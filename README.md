# ğŸ¬ LianWall

æ™ºèƒ½åŠ¨æ€å£çº¸ç®¡ç†å™¨ - åŸºäºè´Ÿåé¦ˆé—­ç¯è°ƒèŠ‚çš„å£çº¸è½®æ¢ç³»ç»Ÿ

###### çœæµ

> **è¿™æ˜¯ä¸€ä¸ªæœ‰è®°å¿†çš„æ™ºèƒ½å£çº¸è½®æ¢å™¨** ğŸ¯
> 
> - åˆšæ’­æ”¾è¿‡çš„å£çº¸ä¼š"è¿›å…¥å†·å´"ï¼ŒçŸ­æœŸå†…ä¸ä¼šé‡å¤
> - é•¿æœŸæœªæ’­æ”¾çš„å£çº¸ä¼š"ç§¯æ”’æœŸæœ›"ï¼Œé€æ¸è·å¾—å‡ºåœºæœºä¼š
> - æ”¯æŒ **åŠ¨æ€å£çº¸**ï¼ˆè§†é¢‘ï¼‰å’Œ **é™æ€å£çº¸**ï¼ˆå›¾ç‰‡ï¼‰ä¸¤ç§æ¨¡å¼
> - æƒé‡æ•°æ®æŒä¹…åŒ–ï¼Œé‡å¯åç»§ç»­æ¥ç€ä¹‹å‰çš„çŠ¶æ€è½®æ¢
> - é€‚é… Hyprlandï¼Œä½¿ç”¨ mpvpaper å’Œ swww ä½œä¸ºåº•å±‚å¼•æ“
> 
> **æœ€ä½³ä½¿ç”¨åœºæ™¯ï¼š** 5ï½30 ä¸ªå£çº¸æ—¶ç®—æ³•æœ€ç¨³å®šï¼ˆæ›´å¤šå£çº¸æ”¯æŒå¼€å‘ä¸­ï¼‰

## âœ¨ ç‰¹æ€§

- **è´Ÿåé¦ˆé—­ç¯è°ƒèŠ‚** - æœ‰è®°å¿†çš„éšæœºï¼Œé¿å…é‡å¤å’ŒåŸ‹æ²¡
- **ç©ºé—´åŒ–é€‰æ‹©é€»è¾‘** - äºŒåˆ†åˆ‡å‰²ç®—æ³•ï¼Œè‡ªç„¶æœ‰æœºçš„æ’­æ”¾åºåˆ—
- **å¤šå¼•æ“æ”¯æŒ** - mpvpaperï¼ˆåŠ¨æ€ï¼‰/ swwwï¼ˆé™æ€ï¼‰
- **æŒä¹…åŒ–æƒé‡** - é‡å¯åä¿ç•™å£çº¸"åœ°å½¢"çŠ¶æ€

## ğŸ“¦ å®‰è£…

> æ¨èæ”¾åœ¨ `~/.local/bin` ä¸‹

###### è‡ªè¡Œç¼–è¯‘

```bash
cargo build --release
cp target/release/lianwall ~/.local/bin/
sudo chmod +x ~/.local/bin/lianwall
```

###### ä¸‹è½½ Release åŒ…

```bash
cp ./lianwall_{å®é™…ç‰ˆæœ¬å·}_linux_x86_64 ~/.local/bin/lianwall
sudo chmod +x ~/.local/bin/lianwall
```

## ğŸš€ ä½¿ç”¨

```bash
lianwall daemon              # å¯åŠ¨å®ˆæŠ¤è¿›ç¨‹ï¼ˆåŠ¨æ€å£çº¸æ¨¡å¼ï¼Œå¾ªç¯åˆ‡æ¢ï¼‰
lianwall next                # ç«‹å³åˆ‡æ¢åˆ°ä¸‹ä¸€å¼ å£çº¸ï¼ˆæ ¹æ®å½“å‰æ¨¡å¼ï¼‰
lianwall video               # åˆ‡æ¢åˆ°åŠ¨æ€å£çº¸æ¨¡å¼ï¼ˆè‡ªåŠ¨åœæ­¢ swwwï¼‰
lianwall picture             # åˆ‡æ¢åˆ°é™æ€å£çº¸æ¨¡å¼ï¼ˆè‡ªåŠ¨åœæ­¢ mpvpaperï¼‰
lianwall reset -m <mode>     # çƒ­é‡è½½æŒ‡å®šæ¨¡å¼çš„å£çº¸ç›®å½•
lianwall status -m <mode>    # æ˜¾ç¤ºæŒ‡å®šæ¨¡å¼çš„çŠ¶æ€å’Œå£çº¸åˆ—è¡¨
```

### Hyprland é…ç½®

```conf
# éš Hyprland å¯åŠ¨
exec-once = lianwall daemon

# å¿«æ·é”®
bind = SUPER ALT, W, exec, lianwall next # ä¸‹ä¸€å¼ å£çº¸
bind = SUPER ALT, E, exec, lianwall video # è§†é¢‘æ¨¡å¼
bind = SUPER ALT, R, exec, lianwall picture # å›¾ç‰‡æ¨¡å¼
```

## âš™ï¸ é…ç½®

é…ç½®æ–‡ä»¶ä½ç½®ï¼š`~/.config/lianwall/config.toml`

é¦–æ¬¡è¿è¡Œä¼šè‡ªåŠ¨ç”Ÿæˆé»˜è®¤é…ç½®ï¼Œå¯æŒ‰éœ€ä¿®æ”¹ï¼š

```toml
[paths]
video_cache = "~/.cache/lianwall/video.json"    # åŠ¨æ€å£çº¸æƒé‡ç¼“å­˜
image_cache = "~/.cache/lianwall/image.json"    # é™æ€å£çº¸æƒé‡ç¼“å­˜
video_dir = "~/Videos/background"               # åŠ¨æ€å£çº¸ç›®å½•
image_dir = "~/Pictures/wallpapers"             # é™æ€å£çº¸ç›®å½•

[video_engine]
type = "mpvpaper"      # åŠ¨æ€å£çº¸å¼•æ“
interval = 600         # åˆ‡æ¢é—´éš”ï¼ˆç§’ï¼‰ï¼Œé»˜è®¤ 10 åˆ†é’Ÿ

[image_engine]
type = "swww"                # é™æ€å£çº¸å¼•æ“
interval = 300               # åˆ‡æ¢é—´éš”ï¼ˆç§’ï¼‰ï¼Œé»˜è®¤ 5 åˆ†é’Ÿ
transition = "fade"          # è¿‡æ¸¡æ•ˆæœ: fade, left, right, top, bottom, wipe, wave, grow, center, any, outer, random
transition_duration = 2.0    # è¿‡æ¸¡æ—¶é•¿ï¼ˆç§’ï¼‰

[weight]
base = 100.0           # åŸºç¡€æƒé‡
select_penalty = 10.0  # é€‰ä¸­æƒ©ç½šå€¼
skip_reward_max = 5.0  # æœ€å¤§è·³è¿‡å¥–åŠ±
```

**é…ç½®è¯´æ˜ï¼š**
- ä¸¤ç§æ¨¡å¼ï¼ˆåŠ¨æ€/é™æ€ï¼‰ä½¿ç”¨ç‹¬ç«‹çš„ç¼“å­˜æ–‡ä»¶å’Œç›®å½•
- `video_engine` æ§åˆ¶åŠ¨æ€å£çº¸è¡Œä¸ºï¼ˆmpvpaperï¼‰
- `image_engine` æ§åˆ¶é™æ€å£çº¸è¡Œä¸ºï¼ˆswwwï¼‰ï¼Œæ”¯æŒä¸°å¯Œçš„è¿‡æ¸¡æ•ˆæœ
- `weight` å‚æ•°å½±å“æƒé‡ç®—æ³•ï¼Œå»ºè®®ä¿æŒé»˜è®¤å€¼

---

## ğŸ§  ç®—æ³•è®¾è®¡è§£æ

### ä¸€ã€æ ¸å¿ƒç®—æ³•ï¼šè´Ÿåé¦ˆé—­ç¯ä¸ç¡®å®šæ€§ä¸­ä½é€‰æ‹©

LianWall çš„æ ¸å¿ƒæ˜¯ä¸€ä¸ª**æƒé‡é©±åŠ¨çš„ç¡®å®šæ€§é€‰æ‹©ç³»ç»Ÿ**ï¼Œé€šè¿‡è´Ÿåé¦ˆæœºåˆ¶å®ç°æœ‰è®°å¿†çš„ä¼ªéšæœºè½®æ¢ã€‚

#### 1.1 æƒé‡æ›´æ–°è§„åˆ™

```rust
æ¯æ¬¡åˆ‡æ¢åï¼Œå¯¹æ‰€æœ‰å£çº¸è¿›è¡Œæƒé‡è°ƒæ•´ï¼š

è¢«é€‰ä¸­å£çº¸ï¼š
  value_new = value_old - 10.0          // æƒ©ç½šå›ºå®šä¸º -10
  skip_streak = 0                        // é‡ç½®è·³è¿‡è®¡æ•°

æœªè¢«é€‰ä¸­å£çº¸ï¼š
  skip_streak += 1                       // ç´¯è®¡è·³è¿‡æ¬¡æ•°
  reward = f(skip_streak)                // é˜¶æ¢¯å‡½æ•°
  value_new = value_old + reward         // ç´¯åŠ å¥–åŠ±
```

**è·³è¿‡å¥–åŠ±å‡½æ•° f(n)ï¼š**

$$
f(n) = \begin{cases}
1.0 + \epsilon & \text{if } 1 \leq n \leq 2 \\
2.0 + \epsilon & \text{if } 3 \leq n \leq 4 \\
3.0 + \epsilon & \text{if } 5 \leq n \leq 6 \\
4.0 + \epsilon & \text{if } 7 \leq n \leq 8 \\
5.0 + \epsilon & \text{if } n \geq 9
\end{cases}
$$

å…¶ä¸­ $\epsilon \sim U(-0.3, 0.3)$ ä¸ºå¾®å°éšæœºæ‰°åŠ¨ï¼Œé˜²æ­¢æƒé‡å®Œå…¨ç›¸ç­‰å¯¼è‡´çš„æ’åºä¸ç¨³å®šã€‚

#### 1.2 é€‰æ‹©ç®—æ³•ï¼šå®¹å·®ä¸­ä½ç­–ç•¥

ä¼ ç»Ÿè´ªå¿ƒç®—æ³•æ€»æ˜¯é€‰æ‹©æœ€é«˜æƒé‡é¡¹ï¼Œä¼šå¯¼è‡´åˆå§‹æƒé‡ç•¥é«˜çš„æ–‡ä»¶è¢«è¿‡åº¦é€‰æ‹©ã€‚LianWall é‡‡ç”¨**å®¹å·®ä¸­ä½é€‰æ‹©**ï¼š

```rust
Algorithm: ToleranceMedianSelect(wallpapers, tolerance=5.0)
  Input:  wallpapers[] å£çº¸åˆ—è¡¨
          tolerance    å®¹å·®å€¼ï¼ˆé»˜è®¤ 5.0ï¼‰
  Output: é€‰ä¸­çš„ç´¢å¼•

  1. æŒ‰æƒé‡é™åºæ’åºï¼šwallpapers.sort_by(value, DESC)
  2. max_value â† wallpapers[0].value
  3. candidates â† {i | max_value - wallpapers[i].value â‰¤ tolerance}
  4. return candidates[len(candidates) / 2]  // æ•´æ•°é™¤æ³•
```

**å…³é”®ç‰¹æ€§ï¼š**
- **å®¹å·®è¿‡æ»¤**ï¼šç­›é€‰å‡ºæƒé‡åœ¨ `[max - 5, max]` èŒƒå›´å†…çš„æ‰€æœ‰å€™é€‰é¡¹
- **ä¸­ä½é€‰æ‹©**ï¼šä»å€™é€‰é›†ä¸­å–ä¸­é—´ä½ç½®ï¼ˆæ•´æ•°é™¤æ³•ï¼‰ï¼Œè€Œéæœ€é«˜å€¼
- **ç¡®å®šæ€§**ï¼šç›¸åŒæƒé‡åˆ†å¸ƒ â†’ ç›¸åŒé€‰æ‹©ç»“æœï¼ˆæ— éšæœºå› ç´ ï¼‰
- **ä¼ªéšæœºæ€§**ï¼šé€šè¿‡æƒé‡å¾®æ‰° Îµ å¼•å…¥ä¸å¯é¢„æµ‹æ€§

**ç¤ºä¾‹æ¼”ç¤ºï¼š**
```
æ’åºåæƒé‡: [105.2, 103.1, 102.3, 101.8, 100.1, 95.4, 90.0]
max = 105.2
å®¹å·®èŒƒå›´: [100.2, 105.2]
å€™é€‰ç´¢å¼•: [0, 1, 2, 3, 4]  (5ä¸ªå€™é€‰é¡¹)
é€‰æ‹©: candidates[5/2] = candidates[2] â†’ æƒé‡ 102.3 çš„å£çº¸
```

---

### äºŒã€æ•°å­¦æ€§è´¨ä¸ç³»ç»Ÿç¨³å®šæ€§åˆ†æ

#### 2.1 æƒé‡å®ˆæ’ä¸è†¨èƒ€ç‡

è®¾ç³»ç»Ÿæœ‰ $N$ ä¸ªå£çº¸ï¼Œç¬¬ $t$ è½®æ€»æƒé‡ä¸º $W_t$ï¼š

$$
W_{t+1} = W_t - 10 + \sum_{i \neq \text{selected}} f(n_i)
$$

å‡è®¾å„å£çº¸è·³è¿‡æ¬¡æ•°åˆ†å¸ƒå‡åŒ€ï¼Œå¹³å‡å¥–åŠ± $\bar{f} \approx 2.5$ï¼ˆè€ƒè™‘é˜¶æ¢¯å‡½æ•°åˆ†å¸ƒï¼‰ï¼š

$$
W_{t+1} \approx W_t - 10 + (N-1) \times 2.5 = W_t + 2.5N - 12.5
$$

**è†¨èƒ€ç‡åˆ†æï¼š**
- $N = 5$ï¼š$\Delta W = 0$ï¼ˆé›¶å¢é•¿ï¼‰
- $N = 10$ï¼š$\Delta W = +12.5$ï¼ˆè½»å¾®è†¨èƒ€ï¼‰
- $N = 20$ï¼š$\Delta W = +37.5$ï¼ˆè†¨èƒ€ï¼‰
- $N = 50$ï¼š$\Delta W = +112.5$ï¼ˆå¼ºè†¨èƒ€ï¼‰

**ç»“è®ºï¼š** ç³»ç»Ÿè®¾è®¡ä¸º"è½»å¾®è†¨èƒ€"ï¼Œé¿å…æƒé‡å½’é›¶å¯¼è‡´çš„é€‰æ‹©é€€åŒ–ï¼Œé€‚åˆ 5-30 ä¸ªå£çº¸è§„æ¨¡ã€‚

#### 2.2 å†·å´æœŸä¸é‡å¤é—´éš”ä¼°ç®—

å£çº¸è¢«é€‰ä¸­åï¼Œæƒé‡ä» $v$ é™è‡³ $v - 10$ã€‚è¦æ¢å¤ç«äº‰åŠ›ï¼Œéœ€æ»¡è¶³ï¼š

$$
v - 10 + \sum_{k=1}^{t} f(k) \geq v_{\text{threshold}}
$$

**æ¡ˆä¾‹è®¡ç®—ï¼ˆåˆå§‹æƒé‡ 100ï¼‰ï¼š**

```
é€‰ä¸­å: 100 â†’ 90
ç¬¬1è½®:  90 + 1.0 = 91.0
ç¬¬2è½®:  91 + 1.0 = 92.0
ç¬¬3è½®:  92 + 2.0 = 94.0
ç¬¬4è½®:  94 + 2.0 = 96.0
ç¬¬5è½®:  96 + 3.0 = 99.0  â† æ¥è¿‘åˆå§‹å€¼
ç¬¬6è½®:  99 + 3.0 = 102.0 â† è¶…è¿‡åˆå§‹å€¼
```

**æ¢å¤åˆ°ç«äº‰åŠ›æ—¶é—´ï¼š**
- æ¢å¤åˆ°åˆå§‹å€¼ï¼šçº¦ **5-6 è½®**
- è¶…è¿‡æœªé€‰ä¸­å£çº¸ï¼šçº¦ **7-8 è½®**ï¼ˆè€ƒè™‘å…¶ä»–å£çº¸ä¹Ÿåœ¨ç´¯ç§¯å¥–åŠ±ï¼‰

è‹¥åˆ‡æ¢é—´éš” 10 åˆ†é’Ÿï¼Œå†·å´æœŸçº¦ **50-80 åˆ†é’Ÿ**ã€‚

#### 2.3 åŸ‹æ²¡é—®é¢˜çš„æ•°å­¦è¯æ˜

**å®šç†ï¼š** åœ¨ LianWall ç³»ç»Ÿä¸­ï¼Œä»»ä½•å£çº¸çš„è·³è¿‡æ¬¡æ•° $n$ ä¸ä¼šæ— é™å¢é•¿ã€‚

**è¯æ˜ï¼š**

å‡è®¾å£çº¸ $A$ è¿ç»­ $n$ è½®æœªè¢«é€‰ä¸­ï¼Œå…¶æƒé‡ä¸ºï¼š

$$
v_A(n) = v_0 + \sum_{k=1}^{n} f(k)
$$

ç”±äº $f(k)$ å•è°ƒé€’å¢ä¸”åœ¨ $k \geq 9$ æ—¶å°é¡¶ä¸º 5.0ï¼Œæœ‰ï¼š

$$
v_A(n) \geq v_0 + \min\left(\frac{n(n+1)}{2}, 5n - 36\right)
$$

å½“ $n$ è¶³å¤Ÿå¤§æ—¶ï¼Œ$v_A(n)$ å°†ä¸¥æ ¼å¤§äºå…¶ä»–å£çº¸ï¼Œå¿…ç„¶è¿›å…¥å®¹å·®èŒƒå›´å¹¶è¢«é€‰ä¸­ã€‚

**æ¨è®ºï¼š** ç³»ç»Ÿä¿è¯**å…¬å¹³æ€§**â€”â€”ä¸å­˜åœ¨æ°¸ä¹…åŸ‹æ²¡çš„å£çº¸ï¼ˆæ— é™ç­‰å¾…é—®é¢˜ä¸å­˜åœ¨ï¼‰ã€‚

---

### ä¸‰ã€å®¹å·®ä¸­ä½é€‰æ‹©çš„ä¼˜åŠ¿

#### 3.1 ä¸è´ªå¿ƒç®—æ³•å¯¹æ¯”

| ç®—æ³•ç±»å‹     | é€‰æ‹©ç­–ç•¥       | ä¼˜åŠ¿                           | åŠ£åŠ¿                         |
| ------------ | -------------- | ------------------------------ | ---------------------------- |
| **è´ªå¿ƒé€‰æ‹©** | æ€»æ˜¯é€‰æœ€é«˜æƒé‡ | æœ€ä¼˜æƒé‡åˆ©ç”¨                   | æ˜“å—åˆå§‹æ¡ä»¶å½±å“ï¼Œç¼ºä¹å¤šæ ·æ€§ |
| **å®¹å·®ä¸­ä½** | å®¹å·®èŒƒå›´çš„ä¸­ä½ | æ‰“ç ´åˆå§‹åå·®ï¼Œå¹³è¡¡å¤šæ ·æ€§ä¸è´¨é‡ | å¯èƒ½è·³è¿‡ç»å¯¹æœ€ä¼˜é¡¹           |
| **éšæœºé€‰æ‹©** | å‡åŒ€éšæœº       | å®Œå…¨æ— å                       | æ— è®°å¿†ï¼Œå¯èƒ½çŸ­æœŸé‡å¤         |

#### 3.2 ä¸­ä½é€‰æ‹©çš„"åè´ªå¿ƒ"æ•ˆåº”

è€ƒè™‘åˆå§‹æƒé‡åœºæ™¯ï¼š
```
æ–‡ä»¶A.mp4: 120.0ï¼ˆä¿®æ”¹æ—¶é—´æœ€æ–°ï¼‰
æ–‡ä»¶B.mp4: 119.8
æ–‡ä»¶C.mp4: 119.5
æ–‡ä»¶D.mp4: 100.0
æ–‡ä»¶E.mp4: 80.0
```

**è´ªå¿ƒç®—æ³•ï¼š** æ€»æ˜¯é€‰ A â†’ A è¢«æƒ©ç½šåï¼Œæ€»æ˜¯é€‰ B â†’ B è¢«æƒ©ç½šåï¼Œæ€»æ˜¯é€‰ C â†’ ...

**å®¹å·®ä¸­ä½ï¼š** ç­›é€‰ [115, 120] èŒƒå›´ â†’ å€™é€‰ [A, B, C] â†’ é€‰æ‹© **Bï¼ˆä¸­ä½ï¼‰**

ç»“æœï¼šA å’Œ C è·å¾—"ç¼“å†²æœºä¼š"ï¼Œé¿å…åˆå§‹æ’åºå¸¦æ¥çš„ç¡®å®šæ€§é‡å¤åºåˆ—ã€‚

---

### å››ã€åˆå§‹æƒé‡åˆ†é…ç­–ç•¥

æ–°æ–‡ä»¶æƒé‡åŸºäºä¿®æ”¹æ—¶é—´çº¿æ€§æ˜ å°„ï¼š

$$
v_{\text{init}}(t) = 120 - 40 \times \frac{t - t_{\text{newest}}}{t_{\text{oldest}} - t_{\text{newest}}}
$$

å…¶ä¸­ $t$ ä¸ºæ–‡ä»¶ä¿®æ”¹æ—¶é—´ã€‚ç»“æœï¼š
- **æœ€æ–°æ–‡ä»¶**ï¼š120.0ï¼ˆ+20% ç«äº‰ä¼˜åŠ¿ï¼‰
- **å¹³å‡æ–‡ä»¶**ï¼š100.0ï¼ˆåŸºå‡†ï¼‰
- **æœ€æ—§æ–‡ä»¶**ï¼š80.0ï¼ˆ-20% ç«äº‰åŠ£åŠ¿ï¼‰

**åˆå¹¶ç­–ç•¥ï¼ˆçƒ­é‡è½½æ—¶ï¼‰ï¼š**
```rust
æ–°å‘ç°æ–‡ä»¶æƒé‡ = (æ—¶é—´æƒé‡ + ç°æœ‰å¹³å‡æƒé‡) / 2
```

é¿å…æ–°æ–‡ä»¶çªç„¶æ¶Œå…¥æ‰“ç ´ç°æœ‰ç”Ÿæ€å¹³è¡¡ã€‚

---

### äº”ã€ç³»ç»Ÿå‚æ•°è°ƒä¼˜å»ºè®®

| å‚æ•°              | é»˜è®¤å€¼ | é€‚ç”¨åœºæ™¯       | è°ƒæ•´å»ºè®®                      |
| ----------------- | ------ | -------------- | ----------------------------- |
| `select_penalty`  | 10.0   | é€šç”¨           | å¢å¤§ â†’ å†·å´æœŸæ›´é•¿             |
| `skip_reward_max` | 5.0    | é€šç”¨           | å‡å° â†’ æ¢å¤æ›´æ…¢ï¼Œè½®æ¢æ›´å‡åŒ€   |
| `tolerance`       | 5.0    | å›ºå®šï¼ˆä»£ç å†…ï¼‰ | å¢å¤§ â†’ å€™é€‰æ± æ›´å¤§ï¼Œéšæœºæ€§å¢å¼º |
| `base`            | 100.0  | åŸºå‡†å€¼         | ä¸å»ºè®®ä¿®æ”¹                    |

**å®æˆ˜ç¤ºä¾‹ï¼ˆ20ä¸ªå£çº¸ï¼Œ10åˆ†é’Ÿé—´éš”ï¼‰ï¼š**
- ç†è®ºè½®æ¢å‘¨æœŸï¼šçº¦ **3-4 å°æ—¶**
- å•ä¸ªå£çº¸å†·å´æœŸï¼šçº¦ **1 å°æ—¶**
- é•¿æœŸå‡è¡¡çŠ¶æ€ï¼šæƒé‡æ”¶æ•›è‡³ $[90, 130]$ åŒºé—´

---

### å…­ã€ä¸ä¼ ç»Ÿæ–¹æ¡ˆå¯¹æ¯”

| ç‰¹æ€§           | `shuf` éšæœº  | åŠ æƒéšæœº     | LianWall ç¡®å®šæ€§ä¸­ä½ |
| -------------- | ------------ | ------------ | ------------------- |
| **è®°å¿†æ€§**     | âŒ æ—          | âœ… æ¦‚ç‡åˆ†å¸ƒ   | âœ… æƒé‡çŠ¶æ€æŒä¹…åŒ–    |
| **å†·å´ä¿è¯**   | âŒ å¯èƒ½è¿ç»­   | âš ï¸ æ¦‚ç‡æ€§     | âœ… ç¡®å®šæ€§æƒ©ç½š        |
| **å…¬å¹³æ€§**     | âš ï¸ é•¿æœŸæ”¶æ•›   | âœ… ç†è®ºå…¬å¹³   | âœ… æ•°å­¦è¯æ˜å…¬å¹³      |
| **å¯é¢„æµ‹æ€§**   | å®Œå…¨ä¸å¯é¢„æµ‹ | éƒ¨åˆ†å¯é¢„æµ‹   | ç¡®å®šæ€§+å¾®æ‰°         |
| **åˆå§‹åå·®**   | âŒ æ–‡ä»¶åä¾èµ– | âš ï¸ åˆå§‹æƒé‡   | âœ… ä¸­ä½é€‰æ‹©æ‰“ç ´åå·®  |
| **æŒä¹…åŒ–æˆæœ¬** | -            | éœ€å­˜æ¦‚ç‡åˆ†å¸ƒ | JSON æƒé‡æ–‡ä»¶       |

---

### ä¸ƒã€ç®—æ³•å¤æ‚åº¦

- **æ—¶é—´å¤æ‚åº¦**ï¼š$O(N \log N)$ï¼ˆæ’åºä¸»å¯¼ï¼‰
- **ç©ºé—´å¤æ‚åº¦**ï¼š$O(N)$ï¼ˆæƒé‡æ•°ç»„ï¼‰
- **I/O å¤æ‚åº¦**ï¼šæ¯æ¬¡åˆ‡æ¢ 1 æ¬¡å†™å…¥ï¼ˆJSON åºåˆ—åŒ–ï¼‰

**ä¼˜åŒ–ç©ºé—´ï¼š**
- ä½¿ç”¨å †ç»´æŠ¤ Top-K å€™é€‰é¡¹ï¼š$O(N + K \log K)$ï¼Œé€‚åˆ $N > 100$ åœºæ™¯
- å¢é‡æ›´æ–°æ’åºï¼šåˆ©ç”¨æƒé‡å˜åŒ–å±€éƒ¨æ€§å‡å°‘æ’åºå¼€é”€

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ main.rs             # æ€»å…¥å£ï¼Œå‘½ä»¤åˆ†å‘
â”œâ”€â”€ config.rs           # é…ç½®æ–‡ä»¶è§£æ
â”œâ”€â”€ manager.rs          # WallManager æ ¸å¿ƒé€»è¾‘
â”œâ”€â”€ command.rs          # å‘½ä»¤è¡Œè§£æ (clap)
â”œâ”€â”€ paperengine/        # å£çº¸å¼•æ“
â”‚   â”œâ”€â”€ mod.rs          # PaperEngine trait
â”‚   â”œâ”€â”€ mpvpaper.rs     # åŠ¨æ€å£çº¸ (è§†é¢‘)
â”‚   â””â”€â”€ swww.rs         # é™æ€å£çº¸ (å›¾ç‰‡)
â””â”€â”€ algorithm/          # ç®—æ³•æ¨¡å—
    â”œâ”€â”€ mod.rs
    â”œâ”€â”€ weight.rs       # æƒé‡è®¡ç®—
    â””â”€â”€ selector.rs     # äºŒåˆ†é€‰æ‹©
```

## ğŸ“œ License

MIT
